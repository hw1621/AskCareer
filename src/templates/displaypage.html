{% extends "base.html" %}
{% block title %}Profile list{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ url_for('static', filename= 'css/displaypage.css') }}" />
{% endblock %}
{% block body %}
    <dialog>
        <div class="dialog-content">
            <div class="dialog-header">
                <button type="button" class="btn-close" onclick="hideProfile()" aria-label="Close"></button>
            </div>
            <div class="dialog-body">
                <div id="profile-header">
                    <div id="profile-name"></div>
                    <div id="profile-email"></div>
                    <button tabindex="1" autofocus onclick="clearProfile()">Chat!</button>
                </div>
                <div id="profile-info"></div>
            </div>
        </div>
        <script src="{{ url_for('static', filename="js/profileModal.js") }}"></script>
    </dialog>
    {% macro profile(user_info) -%}
    <div onclick="showProfile('{{ user_info["uuid"] }}');">
      <a href="#">
        <div class="profile-thumb">
          <div class="profile-image"></div>
          <div class="profile-info">
            <div id="name">{{ user_info["name"] }}</div>
            <div>Currently taking an internship at Google</div>
          </div>
        </div>
      </a>
    </div>
    {% endmacro -%}
    <div class="heading">
        <div id="title">Based on your job description, we found the following people who might be able to help you...</div>
        <div id="back">
            <button onclick="window.location.href='/'" type="button" class="btn btn-secondary">back</button>
        </div>
    </div>
    {% for user in profiles %}
        {{ profile(user) }}
    {% endfor %}
    <p>None of these meet your requirement? click here to <a class="classic-link" href="">report</a></p>
{% endblock %}